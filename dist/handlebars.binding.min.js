// handlebars.binding
// ------------------
// v0.3.8
//
// Copyright (c) 2013-2017 Mateus Maso
// Distributed under MIT license
//
//

!function e(t,n,i){function r(o,a){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[o]={exports:{}};t[o][0].call(h.exports,function(e){var n=t[o][1][e];return r(n||e)},h,h.exports,e,t,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("observe-js"),o=function(){function e(t,n,r,s,o){i(this,e),this.node,this.observer,this.output,this.previousOutput,this.marker,this.delimiter,this.Handlebars=t,this.id=this.Handlebars.Utils.uniqueId(),this.value=s,this.context=n,this.keypath=r,this.options=o,r&&(this.value=this.Handlebars.Utils.path(this.context,this.keypath))}return r(e,[{key:"setNode",value:function(e){return e.bindings=e.bindings||[],e.bindings.push(this),this.node=e}},{key:"setMarker",value:function(e){return e.binding=this,this.marker=e}},{key:"setDelimiter",value:function(e){return this.delimiter=e}},{key:"setOutput",value:function(e){return this.previousOutput=this.output,this.output=e}},{key:"setObserver",value:function(e){return this.observer=e}},{key:"createElement",value:function(){return'<hb-binding id="'+this.id+'"></hb-binding>'}},{key:"createAttribute",value:function(){return"hb-binding-"+this.id}},{key:"initialize",value:function(){return this.options.hash.attr?this.initializeAttribute():this.options.fn?this.initializeBlock():this.initializeInline()}},{key:"initializeAttribute",value:function(e){var t=this,n="binding-"+this.id;return this.Handlebars.registerAttribute(n,function(e){return null},{ready:function(e){t.setNode(e),t.render({initialize:!0}),t.observe(),delete t.Handlebars.attributes[n]}}),this.createAttribute()}},{key:"initializeInline",value:function(){return this.setNode(document.createTextNode("")),this.render({initialize:!0}),this.observe(),this.Handlebars.store.hold(this.id,this.Handlebars.Utils.flatten([this.node])),new this.Handlebars.SafeString(this.createElement())}},{key:"initializeBlock",value:function(){this.setMarker(document.createTextNode("")),this.setDelimiter(document.createTextNode(""));var e=this.render({initialize:!0});return this.observe(),this.Handlebars.store.hold(this.id,this.Handlebars.Utils.flatten([this.marker,e,this.delimiter])),new this.Handlebars.SafeString(this.createElement())}},{key:"runOutput",value:function(){this.options.fn?this.setOutput(this.options.fn(this.context)):this.setOutput(this.value)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.runOutput(),this.options.hash.attr?this.renderAttribute(e):this.options.fn?this.renderBlock(e):this.renderInline(e)}},{key:"renderAttribute",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];1==this.options.hash.attr?this.previousOutput!=this.output&&(this.node.removeAttribute(this.previousOutput),this.node.setAttribute(this.output,"")):"class"==this.options.hash.attr?(this.Handlebars.Utils.removeClass(this.node,this.previousOutput),this.Handlebars.Utils.addClass(this.node,this.output)):this.node.setAttribute(this.options.hash.attr,this.output)}},{key:"renderInline",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.Handlebars.Utils.isString(this.output)?this.node.textContent=this.Handlebars.Utils.escapeExpression(new this.Handlebars.SafeString(this.output)):this.node.textContent=this.Handlebars.Utils.escapeExpression(this.output)}},{key:"renderBlock",value:function(){var e=this;if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).initialize)return this.Handlebars.parseHTML(this.output);this.Handlebars.Utils.removeBetween(this.marker,this.delimiter).forEach(function(t){return e.Handlebars.unbind(t)}),this.Handlebars.Utils.insertAfter(this.marker,this.Handlebars.parseHTML(this.output))}},{key:"observe",value:function(){var e=this;this.Handlebars.Utils.isArray(this.value)?(this.setObserver(new s.ArrayObserver(this.value)),this.observer.open(function(){return e.render()})):this.Handlebars.Utils.isObject(this.value)?(this.setObserver(new s.ObjectObserver(this.value)),this.observer.open(function(){return e.render()})):(this.setObserver(new s.PathObserver(this.context,this.keypath)),this.observer.open(function(t){e.value=t,e.render()}))}},{key:"stopObserving",value:function(){this.observer&&this.observer.close()}}]),e}();n.default=o},{"observe-js":13}],2:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(i)},u=e("observe-js"),l=function(e){return e&&e.__esModule?e:{default:e}}(e("./binding")),h=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"initialize",value:function(){return this.options.hash.bind?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this):this.runOutput()}},{key:"runOutput",value:function(){return this.options.hash.var?this.context[this.options.hash.var]=this.value:this.Handlebars.Utils.isObject(this.value)&&this.Handlebars.Utils.extend(this.context,this.value),this.setOutput(this.options.fn(this.context))}},{key:"observe",value:function(){var e=this;this.parentContextObserver=new u.ObjectObserver(this.options.hash.parentContext),this.parentContextObserver.open(function(){e.Handlebars.Utils.extend(e.context,e.options.hash.parentContext)}),this.Handlebars.Utils.isObject(this.value)&&(this.options.hash.var||(this.setObserver(new u.ObjectObserver(this.value)),this.observer.open(function(){return e.Handlebars.Utils.extend(e.context,e.value)})))}}]),t}(l.default),c=function(e){function t(e,n,s,o,a){i(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,s,o,a));return u.itemBindings=[],u.empty=0==o.length,u.options.hash.parentContext=u.context,u}return s(t,e),o(t,[{key:"initialize",value:function(){return this.options.hash.bind?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this):this.runOutput()}},{key:"observe",value:function(){var e=this;this.setObserver(new u.ArrayObserver(this.value)),this.observer.open(function(t){t.forEach(function(t){e.empty=0==e.value.length,e.render({splice:t})}),e.value.forEach(function(t,n){e.itemBindings[n].context.index=n})})}},{key:"runOutput",value:function(){var e=this,t="";return this.itemBindings=[],this.value.forEach(function(n,i){var r=new h(e.Handlebars,e.Handlebars.Utils.extend({index:i,$this:n},e.context),null,n,e.options);e.itemBindings.push(r),t+=r.initialize()}),this.setOutput(this.empty?this.options.inverse(this.context):t)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.splice)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e);var n=e.splice;if(n.removed.length>0)for(var i=0,r=n.index;r<n.index+n.removed.length;r++)this.removeItem(r-i++);if(n.addedCount>0)for(var s=n.index;s<n.index+n.addedCount;s++)this.addItem(s)}},{key:"addItem",value:function(e){var t;t=this.itemBindings[e-1]?this.itemBindings[e-1].delimiter:this.marker;var n=this.value[e],i=new h(this.Handlebars,this.Handlebars.Utils.extend({index:e,$this:n},this.context),null,n,this.options);this.Handlebars.Utils.insertAfter(t,this.Handlebars.parseHTML(i.initialize())),this.itemBindings.splice(e,0,i)}},{key:"removeItem",value:function(e){var t=this,n=this.itemBindings[e];this.Handlebars.Utils.removeBetween(n.marker,n.delimiter).forEach(function(e){return t.Handlebars.unbind(e)}),n.marker.remove(),n.delimiter.remove(),this.itemBindings.splice(e,1)}}]),t}(l.default);n.default=c},{"./binding":1,"observe-js":13}],3:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(i)},u=e("observe-js"),l=function(e){function t(e,n,s,o,a){i(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,s,o,a));return u.falsy=u.Handlebars.Utils.isFalsy(o),u}return s(t,e),o(t,[{key:"initialize",value:function(){return this.options.hash.bind?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this):this.runOutput()}},{key:"observe",value:function(){var e=this;this.Handlebars.Utils.isArray(this.value)?(this.setObserver(new u.ArrayObserver(this.value)),this.observer.open(function(){e.Handlebars.Utils.isFalsy(e.value)!=e.falsy&&(e.falsy=e.Handlebars.Utils.isFalsy(e.value),e.render())})):(this.setObserver(new u.PathObserver(this.context,this.keypath)),this.observer.open(function(t){e.value=t,e.Handlebars.Utils.isFalsy(e.value)!=e.falsy&&(e.falsy=e.Handlebars.Utils.isFalsy(e.value),e.render())}))}},{key:"runOutput",value:function(){return this.falsy?this.setOutput(this.options.inverse?this.options.inverse(this.context):this.options.hash.else):this.setOutput(this.options.fn?this.options.fn(this.context):this.options.hash.then)}},{key:"renderAttribute",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];1==this.options.hash.attr?(this.node.removeAttribute(this.previousOutput),this.output&&this.node.setAttribute(this.output,"")):"class"==this.options.hash.attr?(this.Handlebars.Utils.removeClass(this.node,this.previousOutput),this.Handlebars.Utils.addClass(this.node,this.output)):this.node.setAttribute(this.options.hash.attr,this.output)}}]),t}(function(e){return e&&e.__esModule?e:{default:e}}(e("./binding")).default);n.default=l},{"./binding":1,"observe-js":13}],4:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.EachBinding=n.IfBinding=n.Binding=void 0;var r=i(e("./binding")),s=i(e("./if_binding")),o=i(e("./each_binding"));n.Binding=r.default,n.IfBinding=s.default,n.EachBinding=o.default},{"./binding":1,"./each_binding":2,"./if_binding":3}],5:[function(e,t,n){"use strict";function i(e){this.Utils.traverse(e,function(e){e.binding?e.binding.observe():e.bindings&&e.bindings.forEach(function(e){return e.observe()})})}function r(e){this.Utils.traverse(e,function(e){e.binding?e.binding.stopObserving():e.bindings&&e.bindings.forEach(function(e){return e.stopObserving()})})}function s(){Platform.performMicrotaskCheckpoint()}function o(){var e=this,t=this.Utils;this.registerHelper("bind",function(t,n){return new a.Binding(e,this,t,null,n).initialize()}),this.registerHelper("if",function(n,i){var r;return i.hash.bindAttr&&(i.hash.attr=i.hash.bindAttr,i.hash.bind=!0),i.hash.bind&&t.isString(n)&&(r=n,n=t.path(this,r)),new a.IfBinding(e,this,r,n,i).initialize()}),this.registerHelper("each",function(t,n){return new a.EachBinding(e,this,null,t,n).initialize()}),this.registerHelper("unless",function(t,n){var i=n.fn,r=n.inverse,s=n.hash.then,o=n.hash.else;return n.fn=r,n.inverse=i,n.hash.then=o,n.hash.else=s,e.helpers.if.apply(this,[t,n])}),this.registerElement("binding",function(e){return e.id})}Object.defineProperty(n,"__esModule",{value:!0}),n.bind=i,n.unbind=r,n.update=s,n.registerBindingHelpers=o;!function(e){e&&e.__esModule}(e("observe-js"));var a=e("../bindings")},{"../bindings":4,"observe-js":13}],6:[function(e,t,n){"use strict";function i(e){(0,r.default)(e);var t=e.Utils.extend;return t(e,{Binding:s.Binding,IfBinding:s.IfBinding,EachBinding:s.EachBinding,bind:o.bind,unbind:o.unbind,update:o.update,registerBindingHelpers:o.registerBindingHelpers}),t(e.Utils,{path:a.path,traverse:a.traverse,removeBetween:a.removeBetween,nodesBetween:a.nodesBetween,removeClass:a.removeClass,addClass:a.addClass,hasClass:a.hasClass,isFalsy:a.isFalsy}),e.registerBindingHelpers(),e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var r=function(e){return e&&e.__esModule?e:{default:e}}(e("handlebars.element")),s=e("./bindings"),o=e("./core"),a=e("./utils");"undefined"!=typeof window&&window.Handlebars&&i(window.Handlebars)},{"./bindings":4,"./core":5,"./utils":7,"handlebars.element":10}],7:[function(e,t,n){"use strict";function i(e){return!e||this.isEmpty(e)}function r(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function s(e,t){if(!r(e,t))return 0==e.className.length?e.className=t:e.className+=" "+t}function o(e,t){if(r(e,t))return e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)"),"")}function a(e,t){for(var n=e.nextSibling,i=[];n&&n!=t;){var r=n.nextSibling;i.push(n),n=r}return i}function u(e,t){var n=a(e,t);return n.forEach(function(e){return e.remove()}),n}function l(e,t){for(t.apply(this,[e]),e=e.firstChild;e;)l(e,t),e=e.nextSibling}function h(e,t){var n=t.split("."),i=e[n.shift()];return n.forEach(function(e){return i=i[e]}),i}Object.defineProperty(n,"__esModule",{value:!0}),n.isFalsy=i,n.hasClass=r,n.addClass=s,n.removeClass=o,n.nodesBetween=a,n.removeBetween=u,n.traverse=l,n.path=h},{}],8:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){t.options=n||{},c[e]=t}function s(e,t,n){t.options=n||{},d[e]=t}function o(e,t){var n=l.default[e];return n?e=n:"true"==e?e=!0:"false"==e?e=!1:"null"==e?e=void 0:"undefined"==e?e=void 0:isNaN(e)||""==e||(e=parseFloat(e)),t?!(!e&&""!==e):""===e?void 0:e}function a(e){var t=[];if(e instanceof h.default.Handlebars.SafeString&&(e=e.toString()),(0,u.isString)(e)){var n=document.createElement("div");n.innerHTML=e.trim();i=n.childNodes}else var i=e;for(var r=(0,u.flatten)(i);0!=r.length;){for(var s=[],o=0;o<r.length;o++){for(var a={owner:r[o],element:void 0,attributes:[]},l=(0,u.flatten)(r[o].childNodes),f=0;f<l.length;f++)s.push(l[f]);if(r[o].attributes)for(f=0;f<r[o].attributes.length;f++)/hb-/i.test(r[o].attributes[f].name)&&a.attributes.push(r[o].attributes[f]);/^hb-/i.test(r[o].nodeName)&&(a.element=r[o]),(a.element||a.attributes.length>0)&&t.unshift(a)}r=s}for(o=0;o<t.length;o++){var v=t[o].owner,p=t[o].element,b=t[o].attributes;if(b.length>0)for(f=0;f<b.length;f++){var _=(j=b[f]).name.replace("hb-",""),g=(k=d[_]).apply(j,[v]);g&&v.setAttributeNode(g),v.removeAttributeNode(j),k.options.ready&&!/hb-/i.test(v.tagName.toLowerCase())&&k.options.ready.apply(j,[v])}if(p){for(var y={},O=p.tagName.toLowerCase().replace("hb-",""),m=c[O],f=0;f<p.attributes.length;f++){var j=p.attributes.item(f),_=(0,u.camelize)(j.nodeName),x=m.options.booleans&&m.options.booleans.indexOf(_)>=0;y[_]=this.parseValue(j.nodeValue,x)}var w=m.apply(p,[y]);(0,u.replaceWith)(p,w);for(f=0;f<b.length;f++){var _=(j=b[f]).name.replace("hb-",""),k=d[_];k.options.ready&&k.options.ready.apply(j,[w])}}}return(0,u.flatten)(i)}Object.defineProperty(n,"__esModule",{value:!0}),n.attributes=n.elements=void 0,n.registerElement=r,n.registerAttribute=s,n.parseValue=o,n.parseHTML=a;var u=e("../utils"),l=i(e("../store")),h=i(e("../deps")),c=n.elements={},d=n.attributes={}},{"../deps":9,"../store":11,"../utils":12}],9:[function(e,t,n){"use strict";function i(){return r.Handlebars.Utils}Object.defineProperty(n,"__esModule",{value:!0}),n.getUtils=i;var r={};n.default=r},{}],10:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return u.default.Handlebars||((0,s.extend)(u.default,{Handlebars:e}),(0,s.extend)(e,{store:a.default,elements:o.elements,attributes:o.attributes,registerElement:o.registerElement,registerAttribute:o.registerAttribute,parseValue:o.parseValue,parseHTML:o.parseHTML}),(0,s.extend)(e.Utils,{extend:s.extend,isObject:s.isObject,isString:s.isString,uniqueId:s.uniqueId,flatten:s.flatten,camelize:s.camelize,replaceWith:s.replaceWith,insertAfter:s.insertAfter,escapeExpression:s.escapeExpression,_escapeExpression:e.Utils.escapeExpression})),e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var s=e("./utils"),o=e("./core"),a=i(e("./store")),u=i(e("./deps"));"undefined"!=typeof window&&window.Handlebars&&r(window.Handlebars)},{"./core":8,"./deps":9,"./store":11,"./utils":12}],11:[function(e,t,n){"use strict";function i(e,t){return o[e]=t}function r(e){var t=o[e];return delete o[e],t}function s(e){for(var t in o)if(o[t]==e)return t}Object.defineProperty(n,"__esModule",{value:!0}),n.hold=i,n.release=r,n.keyFor=s;var o={};(0,e("../utils").extend)(o,{hold:i,release:r,keyFor:s}),n.default=o},{"../utils":12}],12:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function s(e){return e===Object(e)}function o(e){return"string"==typeof e||e instanceof String}function a(){var e=function(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t};return e()+e(!0)+e(!0)+e()}function u(e,t){t=t||[];for(var n=0;n<e.length;n++)(0,v.getUtils)().isArray(e[n])?u(e[n],t):t.push(e[n]);return t}function l(e){return e.trim().replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function h(e,t){t=(0,v.getUtils)().isArray(t)?t:[t];for(var n=0;n<t.length;n++)0==n?e.parentNode.replaceChild(t[n],e):c(t[n-1],t[n])}function c(e,t){(t=(0,v.getUtils)().isArray(t)?t.slice():[t]).unshift(e);for(var n=1;n<t.length;n++)t[n-1].nextSibling?t[n-1].parentNode.insertBefore(t[n],t[n-1].nextSibling):t[n-1].parentNode.appendChild(t[n])}function d(e){if(!s(e)||e instanceof p.default.Handlebars.SafeString)!1===e&&(e=e.toString());else{var t=f.default.keyFor(e);t?e=t:(t=a(),f.default.hold(t,e),e=t)}return(0,v.getUtils)()._escapeExpression(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.extend=r,n.isObject=s,n.isString=o,n.uniqueId=a,n.flatten=u,n.camelize=l,n.replaceWith=h,n.insertAfter=c,n.escapeExpression=d;var f=i(e("../store")),v=e("../deps"),p=i(v)},{"../deps":9,"../store":11}],13:[function(e,t,n){(function(e){!function(e){"use strict";function i(e){return+e==e>>>0&&""!==e}function r(e){return+e}function s(e){return e===Object(e)}function o(e,t){return e===t?0!==e||1/e==1/t:!(!q(e)||!q(t))||e!==e&&t!==t}function a(e){if(void 0===e)return"eof";var t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:case 48:return e;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return 97<=t&&t<=122||65<=t&&t<=90?"ident":49<=t&&t<=57?"number":"else"}function u(){}function l(e){for(var t,n,i,r,s,o,l,h=[],c=-1,d="beforePath",f={push:function(){void 0!==i&&(h.push(i),i=void 0)},append:function(){void 0===i?i=n:i+=n}};d;)if(c++,"\\"!=(t=e[c])||!function(){if(!(c>=e.length)){var t=e[c+1];return"inSingleQuote"==d&&"'"==t||"inDoubleQuote"==d&&'"'==t?(c++,n=t,f.append(),!0):void 0}}()){if(r=a(t),l=$[d],"error"==(s=l[r]||l.else||"error"))return;if(d=s[0],o=f[s[1]]||u,n=void 0===s[2]?t:s[2],o(),"afterPath"===d)return h}}function h(e){return Q.test(e)}function c(e,t){if(t!==W)throw Error("Use Path.get to retrieve path objects");for(var n=0;n<e.length;n++)this.push(String(e[n]));R&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function d(e){if(e instanceof c)return e;if(null!=e&&0!=e.length||(e=""),"string"!=typeof e){if(i(e.length))return new c(e,W);e=String(e)}var t=Z[e];if(t)return t;var n=l(e);return n?(t=new c(n,W),Z[e]=t,t):G}function f(e){return i(e)?"["+e+"]":'["'+e.replace(/"/g,'\\"')+'"]'}function v(t){for(var n=0;n<K&&t.check_();)n++;return T&&(e.dirtyCheckCycleCount=n),n>0}function p(e){for(var t in e)return!1;return!0}function b(e){return p(e.added)&&p(e.removed)&&p(e.changed)}function _(e,t){var n,i={},r={},s={};for(n in t){var o=e[n];void 0!==o&&o===t[n]||(n in e?o!==t[n]&&(s[n]=o):r[n]=void 0)}for(n in e)n in t||(i[n]=e[n]);return Array.isArray(e)&&e.length!==t.length&&(s.length=e.length),{added:i,removed:r,changed:s}}function g(){if(!X.length)return!1;for(var e=0;e<X.length;e++)X[e]();return X.length=0,!0}function y(){function e(e){t&&t.state_===ie&&!i&&t.check_(e)}var t,n,i=!1,r=!0;return{open:function(n){if(t)throw Error("ObservedObject in use");r||Object.deliverChangeRecords(e),t=n,r=!1},observe:function(t,i){n=t,i?Array.observe(n,e):Object.observe(n,e)},deliver:function(t){i=t,Object.deliverChangeRecords(e),i=!1},close:function(){t=void 0,Object.unobserve(n,e),ee.push(this)}}}function O(e,t,n){var i=ee.pop()||y();return i.open(e),i.observe(t,n),i}function m(){function e(t,s){t&&(t===i&&(r[s]=!0),a.indexOf(t)<0&&(a.push(t),Object.observe(t,n)),e(Object.getPrototypeOf(t),s))}function t(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.object!==i||r[n.name]||"setPrototype"===n.type)return!1}return!0}function n(n){if(!t(n)){var i,r;for(i=0;i<o.length;i++)(r=o[i]).state_==ie&&r.iterateObjects_(e);for(i=0;i<o.length;i++)(r=o[i]).state_==ie&&r.check_()}}var i,r,s=0,o=[],a=[];return{objects:a,get rootObject(){return i},set rootObject(e){i=e,r={}},open:function(t,n){o.push(t),s++,t.iterateObjects_(e)},close:function(e){if(!(--s>0)){for(var t=0;t<a.length;t++)Object.unobserve(a[t],n),x.unobservedCount++;o.length=0,a.length=0,i=void 0,r=void 0,te.push(this),J===this&&(J=null)}}}}function j(e,t){return J&&J.rootObject===t||((J=te.pop()||m()).rootObject=t),J.open(e,t),J}function x(){this.state_=ne,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=re++}function w(e){x._allObserversCount++,oe&&se.push(e)}function k(e){x._allObserversCount--}function C(e){x.call(this),this.value_=e,this.oldObject_=void 0}function E(e){if(!Array.isArray(e))throw Error("Provided object is not an Array");C.call(this,e)}function H(e,t,n){x.call(this),this.object_=e,this.path_=d(t),this.defaultValue_=n,this.directObserver_=void 0}function P(e){x.call(this),this.reportChangesOnOpen_=e,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function A(e){return e}function S(e,t,n,i){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=e,this.getValueFn_=t||A,this.setValueFn_=n||A,this.dontPassThroughSet_=i}function U(e,t,n){for(var i={},r={},s=0;s<t.length;s++){var o=t[s];le[o.type]?(o.name in n||(n[o.name]=o.oldValue),"update"!=o.type&&("add"!=o.type?o.name in i?(delete i[o.name],delete n[o.name]):r[o.name]=!0:o.name in r?delete r[o.name]:i[o.name]=!0)):(console.error("Unknown changeRecord type: "+o.type),console.error(o))}var a;for(a in i)i[a]=e[a];for(a in r)r[a]=void 0;var u={};for(a in n)if(!(a in i||a in r)){var l=e[a];n[a]!==l&&(u[a]=l)}return{added:i,removed:r,changed:u}}function B(e,t,n){return{index:e,removed:t,addedCount:n}}function F(){}function M(e,t,n,i,r,s){return he.calcSplices(e,t,n,i,r,s)}function N(e,t,n,i){return t<n||i<e?-1:t==n||i==e?0:e<n?t<i?t-n:i-n:i<t?i-e:t-e}function V(e,t,n,i){for(var r=B(t,n,i),s=!1,o=0,a=0;a<e.length;a++){var u=e[a];if(u.index+=o,!s){var l=N(r.index,r.index+r.removed.length,u.index,u.index+u.addedCount);if(l>=0){e.splice(a,1),a--,o-=u.addedCount-u.removed.length,r.addedCount+=u.addedCount-l;var h=r.removed.length+u.removed.length-l;if(r.addedCount||h){if(n=u.removed,r.index<u.index){var c=r.removed.slice(0,u.index-r.index);Array.prototype.push.apply(c,n),n=c}if(r.index+r.removed.length>u.index+u.addedCount){var d=r.removed.slice(u.index+u.addedCount-r.index);Array.prototype.push.apply(n,d)}r.removed=n,u.index<r.index&&(r.index=u.index)}else s=!0}else if(r.index<u.index){s=!0,e.splice(a,0,r),a++;var f=r.addedCount-r.removed.length;u.index+=f,o+=f}}}s||e.push(r)}function I(e,t){for(var n=[],s=0;s<t.length;s++){var o=t[s];switch(o.type){case"splice":V(n,o.index,o.removed.slice(),o.addedCount);break;case"add":case"update":case"delete":if(!i(o.name))continue;var a=r(o.name);if(a<0)continue;V(n,a,[o.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(o))}}return n}function z(e,t){var n=[];return I(e,t).forEach(function(t){1!=t.addedCount||1!=t.removed.length?n=n.concat(M(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length)):t.removed[0]!==e[t.index]&&n.push(t)}),n}var T=e.testingExposeCycleCount,D=function(){function e(e){t=e}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var t=[],n={},i=[];return Object.observe(n,e),Array.observe(i,e),n.id=1,n.id=2,delete n.id,i.push(1,2),i.length=0,Object.deliverChangeRecords(e),5===t.length&&("add"==t[0].type&&"update"==t[1].type&&"delete"==t[2].type&&"splice"==t[3].type&&"splice"==t[4].type&&(Object.unobserve(n,e),Array.unobserve(i,e),!0))}(),R=function(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{return new Function("","return true;")()}catch(e){return!1}}(),q=e.Number.isNaN||function(t){return"number"==typeof t&&e.isNaN(t)},L="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n},Q=new RegExp("^[$_a-zA-Z]+[$_a-zA-Z0-9]*$"),$={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],else:["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],else:["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},W={},Z={};c.get=d,c.prototype=L({__proto__:[],valid:!0,toString:function(){for(var e="",t=0;t<this.length;t++){var n=this[t];h(n)?e+=t?"."+n:n:e+=f(n)}return e},getValueFrom:function(e,t){for(var n=0;n<this.length;n++){var i=this[n];if(null==e||!(i in e))return t;e=e[i]}return e},iterateObjects:function(e,t){for(var n=0;n<this.length;n++){if(n&&(e=e[this[n-1]]),!s(e))return;t(e,this[n])}},compiledGetValueFromFn:function(){var e="",t="obj";e+="if (obj != null";for(var n,i=0;i<this.length-1;i++)e+=" &&\n    "+(t+=h(n=this[i])?"."+n:f(n))+" != null";var r=h(n=this[i]);return e+=" &&\n    "+(r?'"'+n.replace(/"/g,'\\"')+'"':n)+" in "+t+")\n",t+=r?"."+n:f(n),e+="  return "+t+";\nelse\n  return defaultValue;",new Function("obj","defaultValue",e)},setValueFrom:function(e,t){if(!this.length)return!1;for(var n=0;n<this.length-1;n++){if(!s(e))return!1;e=e[this[n]]}return!!s(e)&&(e[this[n]]=t,!0)}});var G=new c("",W);G.valid=!1,G.getValueFrom=G.setValueFrom=function(){};var J,K=1e3,X=[],Y=D?function(){return function(e){return Promise.resolve().then(e)}}():function(){return function(e){X.push(e)}}(),ee=[],te=[],ne=0,ie=1,re=1;x.prototype={open:function(e,t){if(this.state_!=ne)throw Error("Observer has already been opened.");return w(this),this.callback_=e,this.target_=t,this.connect_(),this.state_=ie,this.value_},close:function(){this.state_==ie&&(k(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=2)},deliver:function(){this.state_==ie&&v(this)},report_:function(e){try{this.callback_.apply(this.target_,e)}catch(e){x._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(e.stack||e))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var se,oe=!D;x._allObserversCount=0,oe&&(se=[]);var ae=!1;e.Platform=e.Platform||{},e.Platform.performMicrotaskCheckpoint=function(){if(!ae&&oe){ae=!0;var t,n,i=0;do{i++,n=se,se=[],t=!1;for(var r=0;r<n.length;r++){var s=n[r];s.state_==ie&&(s.check_()&&(t=!0),se.push(s))}g()&&(t=!0)}while(i<K&&t);T&&(e.dirtyCheckCycleCount=i),ae=!1}},oe&&(e.Platform.clearObservers=function(){se=[]}),C.prototype=L({__proto__:x.prototype,arrayObserve:!1,connect_:function(e,t){D?this.directObserver_=O(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(e){var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=e[n];return Array.isArray(e)&&(t.length=e.length),t},check_:function(e,t){var n,i;if(D){if(!e)return!1;i={},n=U(this.value_,e,i)}else i=this.oldObject_,n=_(this.value_,this.oldObject_);return!b(n)&&(D||(this.oldObject_=this.copyObject(this.value_)),this.report_([n.added||{},n.removed||{},n.changed||{},function(e){return i[e]}]),!0)},disconnect_:function(){D?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==ie&&(D?this.directObserver_.deliver(!1):v(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),E.prototype=L({__proto__:C.prototype,arrayObserve:!0,copyObject:function(e){return e.slice()},check_:function(e){var t;if(D){if(!e)return!1;t=z(this.value_,e)}else t=M(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return!(!t||!t.length)&&(D||(this.oldObject_=this.copyObject(this.value_)),this.report_([t]),!0)}}),E.applySplices=function(e,t,n){n.forEach(function(n){for(var i=[n.index,n.removed.length],r=n.index;r<n.index+n.addedCount;)i.push(t[r]),r++;Array.prototype.splice.apply(e,i)})},H.prototype=L({__proto__:x.prototype,get path(){return this.path_},connect_:function(){D&&(this.directObserver_=j(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(e){this.path_.iterateObjects(this.object_,e)},check_:function(e,t){var n=this.value_;return this.value_=this.path_.getValueFrom(this.object_,this.defaultValue_),!t&&!o(this.value_,n)&&(this.report_([this.value_,n,this]),!0)},setValue:function(e){this.path_&&this.path_.setValueFrom(this.object_,e)}});var ue={};P.prototype=L({__proto__:x.prototype,connect_:function(){if(D){for(var e,t=!1,n=0;n<this.observed_.length;n+=2)if((e=this.observed_[n])!==ue){t=!0;break}t&&(this.directObserver_=j(this,e))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var e=0;e<this.observed_.length;e+=2)this.observed_[e]===ue&&this.observed_[e+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(e,t){if(this.state_!=ne&&3!=this.state_)throw Error("Cannot add paths once started.");if(t=d(t),this.observed_.push(e,t),this.reportChangesOnOpen_){var n=this.observed_.length/2-1;this.value_[n]=t.getValueFrom(e)}},addObserver:function(e){if(this.state_!=ne&&3!=this.state_)throw Error("Cannot add observers once started.");if(this.observed_.push(ue,e),this.reportChangesOnOpen_){var t=this.observed_.length/2-1;this.value_[t]=e.open(this.deliver,this)}},startReset:function(){if(this.state_!=ie)throw Error("Can only reset while open");this.state_=3,this.disconnect_()},finishReset:function(){if(3!=this.state_)throw Error("Can only finishReset after startReset");return this.state_=ie,this.connect_(),this.value_},iterateObjects_:function(e){for(var t,n=0;n<this.observed_.length;n+=2)(t=this.observed_[n])!==ue&&this.observed_[n+1].iterateObjects(t,e)},check_:function(e,t){for(var n,i=0;i<this.observed_.length;i+=2){var r,s=this.observed_[i],a=this.observed_[i+1];if(s===ue){var u=a;r=this.state_===ne?u.open(this.deliver,this):u.discardChanges()}else r=a.getValueFrom(s);t?this.value_[i/2]=r:o(r,this.value_[i/2])||((n=n||[])[i/2]=this.value_[i/2],this.value_[i/2]=r)}return!!n&&(this.report_([this.value_,n,this.observed_]),!0)}}),S.prototype={open:function(e,t){return this.callback_=e,this.target_=t,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(e){if(e=this.getValueFn_(e),!o(e,this.value_)){var t=this.value_;this.value_=e,this.callback_.call(this.target_,this.value_,t)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(e){if(e=this.setValueFn_(e),!this.dontPassThroughSet_&&this.observable_.setValue)return this.observable_.setValue(e)},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var le={add:!0,update:!0,delete:!0};F.prototype={calcEditDistances:function(e,t,n,i,r,s){var o,a,u=s-r+1,l=n-t+1,h=new Array(u);for(o=0;o<u;o++)h[o]=new Array(l),h[o][0]=o;for(a=0;a<l;a++)h[0][a]=a;for(o=1;o<u;o++)for(a=1;a<l;a++)if(this.equals(e[t+a-1],i[r+o-1]))h[o][a]=h[o-1][a-1];else{var c=h[o-1][a]+1,d=h[o][a-1]+1;h[o][a]=c<d?c:d}return h},spliceOperationsFromEditDistances:function(e){for(var t=e.length-1,n=e[0].length-1,i=e[t][n],r=[];t>0||n>0;)if(0!=t)if(0!=n){var s,o=e[t-1][n-1],a=e[t-1][n],u=e[t][n-1];(s=a<u?a<o?a:o:u<o?u:o)==o?(o==i?r.push(0):(r.push(1),i=o),t--,n--):s==a?(r.push(3),t--,i=a):(r.push(2),n--,i=u)}else r.push(3),t--;else r.push(2),n--;return r.reverse(),r},calcSplices:function(e,t,n,i,r,s){var o=0,a=0,u=Math.min(n-t,s-r);if(0==t&&0==r&&(o=this.sharedPrefix(e,i,u)),n==e.length&&s==i.length&&(a=this.sharedSuffix(e,i,u-o)),t+=o,r+=o,n-=a,s-=a,n-t==0&&s-r==0)return[];var l;if(t==n){for(l=B(t,[],0);r<s;)l.removed.push(i[r++]);return[l]}if(r==s)return[B(t,[],n-t)];for(var h=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,t,n,i,r,s)),c=[],d=t,f=r,v=0;v<h.length;v++)switch(h[v]){case 0:l&&(c.push(l),l=void 0),d++,f++;break;case 1:l||(l=B(d,[],0)),l.addedCount++,d++,l.removed.push(i[f]),f++;break;case 2:l||(l=B(d,[],0)),l.addedCount++,d++;break;case 3:l||(l=B(d,[],0)),l.removed.push(i[f]),f++}return l&&c.push(l),c},sharedPrefix:function(e,t,n){for(var i=0;i<n;i++)if(!this.equals(e[i],t[i]))return i;return n},sharedSuffix:function(e,t,n){for(var i=e.length,r=t.length,s=0;s<n&&this.equals(e[--i],t[--r]);)s++;return s},calculateSplices:function(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function(e,t){return e===t}};var he=new F,ce=e;void 0===n||n.nodeType||(void 0!==t&&t.exports&&(n=t.exports),ce=n),ce.Observer=x,ce.Observer.runEOM_=Y,ce.Observer.observerSentinel_=ue,ce.Observer.hasObjectObserve=D,ce.ArrayObserver=E,ce.ArrayObserver.calculateSplices=function(e,t){return he.calculateSplices(e,t)},ce.ArraySplice=F,ce.ObjectObserver=C,ce.PathObserver=H,ce.CompoundObserver=P,ce.Path=c,ce.ObserverTransform=S}(void 0!==e&&e&&void 0!==t&&t?e:this||window)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[6]);