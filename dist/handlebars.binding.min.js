// handlebars.binding
// ------------------
// v0.3.3
//
// Copyright (c) 2013-2016 Mateus Maso
// Distributed under MIT license
//
// http://github.com/mateusmaso/handlebars.binding

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("observe-js"),h=a("../utils"),i=a("../deps"),j=d(i),k=a("../core"),l=function(){function a(b,c,d,f){e(this,a),this.node,this.observer,this.output,this.previousOutput,this.marker,this.delimiter,this.id=(0,i.getUtils)().uniqueId(),this.value=d,this.context=b,this.keypath=c,this.options=f,c&&(this.value=(0,h.path)(this.context,this.keypath))}return f(a,[{key:"setNode",value:function(a){return a.bindings=a.bindings||[],a.bindings.push(this),this.node=a}},{key:"setMarker",value:function(a){return a.binding=this,this.marker=a}},{key:"setDelimiter",value:function(a){return this.delimiter=a}},{key:"setOutput",value:function(a){return this.previousOutput=this.output,this.output=a}},{key:"setObserver",value:function(a){return this.observer=a}},{key:"createElement",value:function(){return'<hb-binding id="'+this.id+'"></hb-binding>'}},{key:"createAttribute",value:function(){return"hb-binding-"+this.id}},{key:"initialize",value:function(){return this.options.hash.attr?this.initializeAttribute():this.options.fn?this.initializeBlock():this.initializeInline()}},{key:"initializeAttribute",value:function(a){var b=this,c="binding-"+this.id;return j["default"].Handlebars.registerAttribute(c,function(a){return null},{ready:function(a){b.setNode(a),b.render({initialize:!0}),b.observe(),delete j["default"].Handlebars.attributes[c]}}),this.createAttribute()}},{key:"initializeInline",value:function(){return this.setNode(document.createTextNode("")),this.render({initialize:!0}),this.observe(),j["default"].Handlebars.store.hold(this.id,(0,i.getUtils)().flatten([this.node])),new j["default"].Handlebars.SafeString(this.createElement())}},{key:"initializeBlock",value:function(){this.setMarker(document.createTextNode("")),this.setDelimiter(document.createTextNode(""));var a=this.render({initialize:!0});return this.observe(),j["default"].Handlebars.store.hold(this.id,(0,i.getUtils)().flatten([this.marker,a,this.delimiter])),new j["default"].Handlebars.SafeString(this.createElement())}},{key:"runOutput",value:function(){this.options.fn?this.setOutput(this.options.fn(this.context)):this.setOutput(this.value)}},{key:"render",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this.runOutput(),this.options.hash.attr?this.renderAttribute(a):this.options.fn?this.renderBlock(a):this.renderInline(a)}},{key:"renderAttribute",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];1==this.options.hash.attr?this.previousOutput!=this.output&&(this.node.removeAttribute(this.previousOutput),this.node.setAttribute(this.output,"")):"class"==this.options.hash.attr?((0,h.removeClass)(this.node,this.previousOutput),(0,h.addClass)(this.node,this.output)):this.node.setAttribute(this.options.hash.attr,this.output)}},{key:"renderInline",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,i.getUtils)().isString(this.output)?this.node.textContent=(0,i.getUtils)().escapeExpression(new j["default"].Handlebars.SafeString(this.output)):this.node.textContent=(0,i.getUtils)().escapeExpression(this.output)}},{key:"renderBlock",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return a.initialize?j["default"].Handlebars.parseHTML(this.output):((0,h.removeBetween)(this.marker,this.delimiter).forEach(function(a){return(0,k.unbind)(a)}),void(0,i.getUtils)().insertAfter(this.marker,j["default"].Handlebars.parseHTML(this.output)))}},{key:"observe",value:function(){var a=this;(0,i.getUtils)().isArray(this.value)?(this.setObserver(new g.ArrayObserver(this.value)),this.observer.open(function(){return a.render()})):(0,i.getUtils)().isObject(this.value)?(this.setObserver(new g.ObjectObserver(this.value)),this.observer.open(function(){return a.render()})):(this.setObserver(new g.PathObserver(this.context,this.keypath)),this.observer.open(function(b){a.value=b,a.render()}))}},{key:"stopObserving",value:function(){this.observer&&this.observer.close()}}]),a}();c["default"]=l},{"../core":5,"../deps":6,"../utils":8,"observe-js":14}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=a("observe-js"),k=a("./binding"),l=d(k),m=a("../utils"),n=a("../deps"),o=d(n),p=a("../core"),q=function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"initialize",value:function(){return this.options.hash.bind?i(Object.getPrototypeOf(b.prototype),"initialize",this).call(this):this.runOutput()}},{key:"runOutput",value:function(){return this.options.hash["var"]?this.context[this.options.hash["var"]]=this.value:(0,n.getUtils)().isObject(this.value)&&(0,n.getUtils)().extend(this.context,this.value),this.setOutput(this.options.fn(this.context))}},{key:"observe",value:function(){var a=this;this.parentContextObserver=new j.ObjectObserver(this.options.hash.parentContext),this.parentContextObserver.open(function(){(0,n.getUtils)().extend(a.context,a.options.hash.parentContext)}),(0,n.getUtils)().isObject(this.value)&&(this.options.hash["var"]||(this.setObserver(new j.ObjectObserver(this.value)),this.observer.open(function(){return(0,n.getUtils)().extend(a.context,a.value)})))}}]),b}(l["default"]),r=function(a){function b(a,c,d,g){e(this,b);var h=f(this,Object.getPrototypeOf(b).call(this,a,c,d,g));return h.itemBindings=[],h.empty=0==d.length,h.options.hash.parentContext=h.context,h}return g(b,a),h(b,[{key:"initialize",value:function(){return this.options.hash.bind?i(Object.getPrototypeOf(b.prototype),"initialize",this).call(this):this.runOutput()}},{key:"observe",value:function(){var a=this;this.setObserver(new j.ArrayObserver(this.value)),this.observer.open(function(b){b.forEach(function(b){a.empty=0==a.value.length,a.render({splice:b})}),a.value.forEach(function(b,c){a.itemBindings[c].context.index=c})})}},{key:"runOutput",value:function(){var a=this,b="";return this.itemBindings=[],this.value.forEach(function(c,d){var e=new q((0,n.getUtils)().extend({index:d,$this:c},a.context),null,c,a.options);a.itemBindings.push(e),b+=e.initialize()}),this.setOutput(this.empty?this.options.inverse(this.context):b)}},{key:"render",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!a.splice)return i(Object.getPrototypeOf(b.prototype),"render",this).call(this,a);var c=a.splice;if(c.removed.length>0)for(var d=0,e=c.index;e<c.index+c.removed.length;e++)this.removeItem(e-d++);if(c.addedCount>0)for(var f=c.index;f<c.index+c.addedCount;f++)this.addItem(f)}},{key:"addItem",value:function(a){var b;b=this.itemBindings[a-1]?this.itemBindings[a-1].delimiter:this.marker;var c=this.value[a],d=new q((0,n.getUtils)().extend({index:a,$this:c},this.context),null,c,this.options);(0,n.getUtils)().insertAfter(b,o["default"].Handlebars.parseHTML(d.initialize())),this.itemBindings.splice(a,0,d)}},{key:"removeItem",value:function(a){var b=this.itemBindings[a];(0,m.removeBetween)(b.marker,b.delimiter).forEach(function(a){return(0,p.unbind)(a)}),b.marker.remove(),b.delimiter.remove(),this.itemBindings.splice(a,1)}}]),b}(l["default"]);c["default"]=r},{"../core":5,"../deps":6,"../utils":8,"./binding":1,"observe-js":14}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function p(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:p(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=a("observe-js"),k=a("./binding"),l=d(k),m=a("../deps"),n=(d(m),a("../utils")),o=function(a){function b(a,c,d,g){e(this,b);var h=f(this,Object.getPrototypeOf(b).call(this,a,c,d,g));return h.falsy=(0,n.isFalsy)(d),h}return g(b,a),h(b,[{key:"initialize",value:function(){return this.options.hash.bind?i(Object.getPrototypeOf(b.prototype),"initialize",this).call(this):this.runOutput()}},{key:"observe",value:function(){var a=this;(0,m.getUtils)().isArray(this.value)?(this.setObserver(new j.ArrayObserver(this.value)),this.observer.open(function(){(0,n.isFalsy)(a.value)!=a.falsy&&(a.falsy=(0,n.isFalsy)(a.value),a.render())})):(this.setObserver(new j.PathObserver(this.context,this.keypath)),this.observer.open(function(b){a.value=b,(0,n.isFalsy)(a.value)!=a.falsy&&(a.falsy=(0,n.isFalsy)(a.value),a.render())}))}},{key:"runOutput",value:function(){return this.falsy?this.setOutput(this.options.inverse?this.options.inverse(this.context):this.options.hash["else"]):this.setOutput(this.options.fn?this.options.fn(this.context):this.options.hash.then)}},{key:"renderAttribute",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];1==this.options.hash.attr?(this.node.removeAttribute(this.previousOutput),this.output&&this.node.setAttribute(this.output,"")):"class"==this.options.hash.attr?((0,n.removeClass)(this.node,this.previousOutput),(0,n.addClass)(this.node,this.output)):this.node.setAttribute(this.options.hash.attr,this.output)}}]),b}(l["default"]);c["default"]=o},{"../deps":6,"../utils":8,"./binding":1,"observe-js":14}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c.EachBinding=c.IfBinding=c.Binding=void 0;var e=a("./binding"),f=d(e),g=a("./if_binding"),h=d(g),i=a("./each_binding"),j=d(i);c.Binding=f["default"],c.IfBinding=h["default"],c.EachBinding=j["default"]},{"./binding":1,"./each_binding":2,"./if_binding":3}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){(0,k.traverse)(a,function(a){a.binding?a.binding.observe():a.bindings&&a.bindings.forEach(function(a){return a.observe()})})}function f(a){(0,k.traverse)(a,function(a){a.binding?a.binding.stopObserving():a.bindings&&a.bindings.forEach(function(a){return a.stopObserving()})})}function g(){Platform.performMicrotaskCheckpoint()}function h(){m["default"].Handlebars.registerHelper("bind",function(a,b){return new j.Binding(this,a,null,b).initialize()}),m["default"].Handlebars.registerHelper("if",function(a,b){var c;return b.hash.bindAttr&&(b.hash.attr=b.hash.bindAttr,b.hash.bind=!0),b.hash.bind&&(0,l.getUtils)().isString(a)&&(c=a,a=(0,k.path)(this,c)),new j.IfBinding(this,c,a,b).initialize()}),m["default"].Handlebars.registerHelper("each",function(a,b){return new j.EachBinding(this,null,a,b).initialize()}),m["default"].Handlebars.registerHelper("unless",function(a,b){var c=b.fn,d=b.inverse,e=b.hash.then,f=b.hash["else"];return b.fn=d,b.inverse=c,b.hash.then=f,b.hash["else"]=e,m["default"].Handlebars.helpers["if"].apply(this,[a,b])}),m["default"].Handlebars.registerElement("binding",function(a){return a.id})}Object.defineProperty(c,"__esModule",{value:!0}),c.bind=e,c.unbind=f,c.update=g,c.register=h;var i=a("observe-js"),j=(d(i),a("../bindings")),k=a("../utils"),l=a("../deps"),m=d(l)},{"../bindings":4,"../deps":6,"../utils":8,"observe-js":14}],6:[function(a,b,c){"use strict";function d(){return e.Handlebars.Utils}Object.defineProperty(c,"__esModule",{value:!0}),c.getUtils=d;var e={};c["default"]=e},{}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){(0,g["default"])(a);var b=a.Utils.extend;return b(l["default"],{Handlebars:a}),b(a,{Binding:h.Binding,IfBinding:h.IfBinding,EachBinding:h.EachBinding,bind:i.bind,unbind:i.unbind,update:i.update}),b(a.Utils,{path:j.path,traverse:j.traverse,removeBetween:j.removeBetween,nodesBetween:j.nodesBetween,removeClass:j.removeClass,addClass:j.addClass,hasClass:j.hasClass,isFalsy:j.isFalsy}),(0,i.register)(),a}Object.defineProperty(c,"__esModule",{value:!0});var f=a("handlebars.element"),g=d(f),h=a("./bindings"),i=a("./core"),j=a("./utils"),k=a("./deps"),l=d(k);"undefined"!=typeof window&&window.Handlebars&&(e=e(window.Handlebars)),c["default"]=e},{"./bindings":4,"./core":5,"./deps":6,"./utils":8,"handlebars.element":11}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return!a||(0,m.getUtils)().isEmpty(a)}function f(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function g(a,b){return f(a,b)?void 0:0==a.className.length?a.className=b:a.className+=" "+b}function h(a,b){return f(a,b)?a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)"),""):void 0}function i(a,b){for(var c=a.nextSibling,d=[];c&&c!=b;){var e=c.nextSibling;d.push(c),c=e}return d}function j(a,b){var c=i(a,b);return c.forEach(function(a){return a.remove()}),c}function k(a,b){for(b.apply(this,[a]),a=a.firstChild;a;)k(a,b),a=a.nextSibling}function l(a,b){var c=b.split("."),d=a[c.shift()];return c.forEach(function(a){return d=d[a]}),d}Object.defineProperty(c,"__esModule",{value:!0}),c.isFalsy=e,c.hasClass=f,c.addClass=g,c.removeClass=h,c.nodesBetween=i,c.removeBetween=j,c.traverse=k,c.path=l;var m=a("../deps");d(m)},{"../deps":6}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){b.options=c||{},n[a]=b}function f(a,b,c){b.options=c||{},o[a]=b}function g(a,b){var c=k["default"][a];return c?a=c:"true"==a?a=!0:"false"==a?a=!1:"null"==a?a=void 0:"undefined"==a?a=void 0:isNaN(a)||""==a||(a=parseFloat(a)),b?!(!a&&""!==a):""===a?void 0:a}function h(a){var b=[];if(a instanceof m["default"].Handlebars.SafeString&&(a=a.toString()),(0,i.isString)(a)){var c=document.createElement("div");c.innerHTML=a.trim();var d=c.childNodes}else var d=a;for(var e=(0,i.flatten)(d);0!=e.length;){for(var f=[],h=0;h<e.length;h++){for(var j={owner:e[h],element:void 0,attributes:[]},k=(0,i.flatten)(e[h].childNodes),l=0;l<k.length;l++)f.push(k[l]);if(e[h].attributes)for(var l=0;l<e[h].attributes.length;l++)/hb-/i.test(e[h].attributes[l].name)&&j.attributes.push(e[h].attributes[l]);/^hb-/i.test(e[h].nodeName)&&(j.element=e[h]),(j.element||j.attributes.length>0)&&b.unshift(j)}e=f}for(var h=0;h<b.length;h++){var p=b[h].owner,q=b[h].element,r=b[h].attributes;if(r.length>0)for(var l=0;l<r.length;l++){var s=r[l],t=s.name.replace("hb-",""),u=o[t],v=u.apply(s,[p]);v&&p.setAttributeNode(v),p.removeAttributeNode(s),u.options.ready&&!/hb-/i.test(p.tagName.toLowerCase())&&u.options.ready.apply(s,[p])}if(q){for(var w={},x=q.tagName.toLowerCase().replace("hb-",""),y=n[x],l=0;l<q.attributes.length;l++){var s=q.attributes.item(l),t=(0,i.camelize)(s.nodeName),z=y.options.booleans&&y.options.booleans.indexOf(t)>=0;w[t]=g(s.nodeValue,z)}var A=y.apply(q,[w]);(0,i.replaceWith)(q,A);for(var l=0;l<r.length;l++){var s=r[l],t=s.name.replace("hb-",""),u=o[t];u.options.ready&&u.options.ready.apply(s,[A])}}}return(0,i.flatten)(d)}Object.defineProperty(c,"__esModule",{value:!0}),c.attributes=c.elements=void 0,c.registerElement=e,c.registerAttribute=f,c.parseValue=g,c.parseHTML=h;var i=a("../utils"),j=a("../store"),k=d(j),l=a("../deps"),m=d(l),n=c.elements={},o=c.attributes={}},{"../deps":10,"../store":12,"../utils":13}],10:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],11:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(0,f.extend)(k["default"],{Handlebars:a}),(0,f.extend)(a,{store:i["default"],elements:g.elements,attributes:g.attributes,registerElement:g.registerElement,registerAttribute:g.registerAttribute,parseValue:g.parseValue,parseHTML:g.parseHTML}),(0,f.extend)(a.Utils,{extend:f.extend,isObject:f.isObject,isString:f.isString,uniqueId:f.uniqueId,flatten:f.flatten,camelize:f.camelize,replaceWith:f.replaceWith,insertAfter:f.insertAfter,escapeExpression:f.escapeExpression,_escapeExpression:a.Utils.escapeExpression}),a}Object.defineProperty(c,"__esModule",{value:!0});var f=a("./utils"),g=a("./core"),h=a("./store"),i=d(h),j=a("./deps"),k=d(j);"undefined"!=typeof window&&window.Handlebars&&(e=e(window.Handlebars)),c["default"]=e},{"./core":9,"./deps":10,"./store":12,"./utils":13}],12:[function(a,b,c){"use strict";function d(a,b){return h[a]=b}function e(a){var b=h[a];return delete h[a],b}function f(a){for(var b in h)if(h[b]==a)return b}Object.defineProperty(c,"__esModule",{value:!0}),c.hold=d,c.release=e,c.keyFor=f;var g=a("../utils"),h={};(0,g.extend)(h,{hold:d,release:e,keyFor:f}),c["default"]=h},{"../utils":13}],13:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function f(a){return a===Object(a)}function g(a){return"[object String]"==toString.call(a)}function h(){var a=function(a){var b=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b};return a()+a(!0)+a(!0)+a()}function i(a,b){b=b||[];for(var c=0;c<a.length;c++)(0,p.getUtils)().isArray(a[c])?i(a[c],b):b.push(a[c]);return b}function j(a){return a.trim().replace(/[-_\s]+(.)?/g,function(a,b){return b?b.toUpperCase():""})}function k(a,b){b=(0,p.getUtils)().isArray(b)?b:[b];for(var c=0;c<b.length;c++)0==c?a.parentNode.replaceChild(b[c],a):l(b[c-1],b[c])}function l(a,b){b=(0,p.getUtils)().isArray(b)?b.slice():[b],b.unshift(a);for(var c=1;c<b.length;c++)b[c-1].nextSibling?b[c-1].parentNode.insertBefore(b[c],b[c-1].nextSibling):b[c-1].parentNode.appendChild(b[c])}function m(a){if(!f(a)||a instanceof q["default"].Handlebars.SafeString)a===!1&&(a=a.toString());else{var b=o["default"].keyFor(a);b?a=b:(b=h(),o["default"].hold(b,a),a=b)}return(0,p.getUtils)()._escapeExpression(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.extend=e,c.isObject=f,c.isString=g,c.uniqueId=h,c.flatten=i,c.camelize=j,c.replaceWith=k,c.insertAfter=l,c.escapeExpression=m;var n=a("../store"),o=d(n),p=a("../deps"),q=d(p)},{"../deps":10,"../store":12}],14:[function(a,b,c){(function(a){!function(a){"use strict";function d(){function a(a){b=a}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var b=[],c={},d=[];return Object.observe(c,a),Array.observe(d,a),c.id=1,c.id=2,delete c.id,d.push(1,2),d.length=0,Object.deliverChangeRecords(a),5!==b.length?!1:"add"!=b[0].type||"update"!=b[1].type||"delete"!=b[2].type||"splice"!=b[3].type||"splice"!=b[4].type?!1:(Object.unobserve(c,a),Array.unobserve(d,a),!0)}function e(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{var a=new Function("","return true;");return a()}catch(b){return!1}}function f(a){return+a===a>>>0&&""!==a}function g(a){return+a}function h(a){return a===Object(a)}function i(a,b){return a===b?0!==a||1/a===1/b:T(a)&&T(b)?!0:a!==a&&b!==b}function j(a){if(void 0===a)return"eof";var b=a.charCodeAt(0);switch(b){case 91:case 93:case 46:case 34:case 39:case 48:return a;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return b>=97&&122>=b||b>=65&&90>=b?"ident":b>=49&&57>=b?"number":"else"}function k(){}function l(a){function b(){if(!(m>=a.length)){var b=a[m+1];return"inSingleQuote"==n&&"'"==b||"inDoubleQuote"==n&&'"'==b?(m++,d=b,o.append(),!0):void 0}}for(var c,d,e,f,g,h,i,l=[],m=-1,n="beforePath",o={push:function(){void 0!==e&&(l.push(e),e=void 0)},append:function(){void 0===e?e=d:e+=d}};n;)if(m++,c=a[m],"\\"!=c||!b(n)){if(f=j(c),i=Y[n],g=i[f]||i["else"]||"error","error"==g)return;if(n=g[0],h=o[g[1]]||k,d=void 0===g[2]?c:g[2],h(),"afterPath"===n)return l}}function m(a){return X.test(a)}function n(a,b){if(b!==Z)throw Error("Use Path.get to retrieve path objects");for(var c=0;c<a.length;c++)this.push(String(a[c]));S&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function o(a){if(a instanceof n)return a;if(null!=a&&0!=a.length||(a=""),"string"!=typeof a){if(f(a.length))return new n(a,Z);a=String(a)}var b=$[a];if(b)return b;var c=l(a);return c?(b=new n(c,Z),$[a]=b,b):_}function p(a){return f(a)?"["+a+"]":'["'+a.replace(/"/g,'\\"')+'"]'}function q(b){for(var c=0;ba>c&&b.check_();)c++;return Q&&(a.dirtyCheckCycleCount=c),c>0}function r(a){for(var b in a)return!1;return!0}function s(a){return r(a.added)&&r(a.removed)&&r(a.changed)}function t(a,b){var c,d={},e={},f={};for(c in b){var g=a[c];void 0!==g&&g===b[c]||(c in a?g!==b[c]&&(f[c]=g):e[c]=void 0)}for(c in a)c in b||(d[c]=a[c]);return Array.isArray(a)&&a.length!==b.length&&(f.length=a.length),{added:d,removed:e,changed:f}}function u(){if(!ca.length)return!1;for(var a=0;a<ca.length;a++)ca[a]();return ca.length=0,!0}function v(){function a(a){b&&b.state_===ha&&!d&&b.check_(a)}var b,c,d=!1,e=!0;return{open:function(c){if(b)throw Error("ObservedObject in use");e||Object.deliverChangeRecords(a),b=c,e=!1},observe:function(b,d){c=b,d?Array.observe(c,a):Object.observe(c,a)},deliver:function(b){d=b,Object.deliverChangeRecords(a),d=!1},close:function(){b=void 0,Object.unobserve(c,a),ea.push(this)}}}function w(a,b,c){var d=ea.pop()||v();return d.open(a),d.observe(b,c),d}function x(){function a(b,f){b&&(b===d&&(e[f]=!0),h.indexOf(b)<0&&(h.push(b),Object.observe(b,c)),a(Object.getPrototypeOf(b),f))}function b(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.object!==d||e[c.name]||"setPrototype"===c.type)return!1}return!0}function c(c){if(!b(c)){var d,e;for(d=0;d<g.length;d++)e=g[d],e.state_==ha&&e.iterateObjects_(a);for(d=0;d<g.length;d++)e=g[d],e.state_==ha&&e.check_()}}var d,e,f=0,g=[],h=[],i={objects:h,get rootObject(){return d},set rootObject(a){d=a,e={}},open:function(b,c){g.push(b),f++,b.iterateObjects_(a)},close:function(a){if(f--,!(f>0)){for(var b=0;b<h.length;b++)Object.unobserve(h[b],c),z.unobservedCount++;g.length=0,h.length=0,d=void 0,e=void 0,fa.push(this),aa===this&&(aa=null)}}};return i}function y(a,b){return aa&&aa.rootObject===b||(aa=fa.pop()||x(),aa.rootObject=b),aa.open(a,b),aa}function z(){this.state_=ga,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=ka++}function A(a){z._allObserversCount++,ma&&la.push(a)}function B(a){z._allObserversCount--}function C(a){z.call(this),this.value_=a,this.oldObject_=void 0}function D(a){if(!Array.isArray(a))throw Error("Provided object is not an Array");C.call(this,a)}function E(a,b,c){z.call(this),this.object_=a,this.path_=o(b),this.defaultValue_=c,this.directObserver_=void 0}function F(a){z.call(this),this.reportChangesOnOpen_=a,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function G(a){return a}function H(a,b,c,d){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=a,this.getValueFn_=b||G,this.setValueFn_=c||G,this.dontPassThroughSet_=d}function I(a,b,c){for(var d={},e={},f=0;f<b.length;f++){var g=b[f];pa[g.type]?(g.name in c||(c[g.name]=g.oldValue),"update"!=g.type&&("add"!=g.type?g.name in d?(delete d[g.name],delete c[g.name]):e[g.name]=!0:g.name in e?delete e[g.name]:d[g.name]=!0)):(console.error("Unknown changeRecord type: "+g.type),console.error(g))}var h;for(h in d)d[h]=a[h];for(h in e)e[h]=void 0;var i={};for(h in c)if(!(h in d||h in e)){var j=a[h];c[h]!==j&&(i[h]=j)}return{added:d,removed:e,changed:i}}function J(a,b,c){return{index:a,removed:b,addedCount:c}}function K(){}function L(a,b,c,d,e,f){return ua.calcSplices(a,b,c,d,e,f)}function M(a,b,c,d){return c>b||a>d?-1:b==c||d==a?0:c>a?d>b?b-c:d-c:b>d?d-a:b-a}function N(a,b,c,d){for(var e=J(b,c,d),f=!1,g=0,h=0;h<a.length;h++){var i=a[h];if(i.index+=g,!f){var j=M(e.index,e.index+e.removed.length,i.index,i.index+i.addedCount);if(j>=0){a.splice(h,1),h--,g-=i.addedCount-i.removed.length,e.addedCount+=i.addedCount-j;var k=e.removed.length+i.removed.length-j;if(e.addedCount||k){if(c=i.removed,e.index<i.index){var l=e.removed.slice(0,i.index-e.index);Array.prototype.push.apply(l,c),c=l}if(e.index+e.removed.length>i.index+i.addedCount){var m=e.removed.slice(i.index+i.addedCount-e.index);Array.prototype.push.apply(c,m)}e.removed=c,i.index<e.index&&(e.index=i.index)}else f=!0}else if(e.index<i.index){f=!0,a.splice(h,0,e),h++;var n=e.addedCount-e.removed.length;i.index+=n,g+=n}}}f||a.push(e)}function O(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];switch(e.type){case"splice":N(c,e.index,e.removed.slice(),e.addedCount);break;case"add":case"update":case"delete":if(!f(e.name))continue;var h=g(e.name);if(0>h)continue;N(c,h,[e.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(e))}}return c}function P(a,b){var c=[];return O(a,b).forEach(function(b){return 1==b.addedCount&&1==b.removed.length?void(b.removed[0]!==a[b.index]&&c.push(b)):void(c=c.concat(L(a,b.index,b.index+b.addedCount,b.removed,0,b.removed.length)))}),c}var Q=a.testingExposeCycleCount,R=d(),S=e(),T=a.Number.isNaN||function(b){return"number"==typeof b&&a.isNaN(b)},U="__proto__"in{}?function(a){return a}:function(a){var b=a.__proto__;if(!b)return a;var c=Object.create(b);return Object.getOwnPropertyNames(a).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(a,b))}),c},V="[$_a-zA-Z]",W="[$_a-zA-Z0-9]",X=new RegExp("^"+V+"+"+W+"*$"),Y={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],"else":["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],"else":["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},Z={},$={};n.get=o,n.prototype=U({__proto__:[],valid:!0,toString:function(){for(var a="",b=0;b<this.length;b++){var c=this[b];a+=m(c)?b?"."+c:c:p(c)}return a},getValueFrom:function(a,b){for(var c=0;c<this.length;c++){var d=this[c];if(null==a||!(d in a))return b;a=a[d]}return a},iterateObjects:function(a,b){for(var c=0;c<this.length;c++){if(c&&(a=a[this[c-1]]),!h(a))return;b(a,this[c])}},compiledGetValueFromFn:function(){var a="",b="obj";a+="if (obj != null";for(var c,d=0;d<this.length-1;d++)c=this[d],b+=m(c)?"."+c:p(c),a+=" &&\n    "+b+" != null";c=this[d];var e=m(c),f=e?'"'+c.replace(/"/g,'\\"')+'"':c;return a+=" &&\n    "+f+" in "+b+")\n",b+=e?"."+c:p(c),a+="  return "+b+";\nelse\n  return defaultValue;",new Function("obj","defaultValue",a)},setValueFrom:function(a,b){if(!this.length)return!1;for(var c=0;c<this.length-1;c++){if(!h(a))return!1;a=a[this[c]]}return h(a)?(a[this[c]]=b,!0):!1}});var _=new n("",Z);_.valid=!1,_.getValueFrom=_.setValueFrom=function(){};var aa,ba=1e3,ca=[],da=R?function(){return function(a){return Promise.resolve().then(a)}}():function(){return function(a){ca.push(a)}}(),ea=[],fa=[],ga=0,ha=1,ia=2,ja=3,ka=1;z.prototype={open:function(a,b){if(this.state_!=ga)throw Error("Observer has already been opened.");return A(this),this.callback_=a,this.target_=b,this.connect_(),this.state_=ha,this.value_},close:function(){this.state_==ha&&(B(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=ia)},deliver:function(){this.state_==ha&&q(this)},report_:function(a){try{this.callback_.apply(this.target_,a)}catch(b){z._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(b.stack||b))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var la,ma=!R;z._allObserversCount=0,ma&&(la=[]);var na=!1;a.Platform=a.Platform||{},a.Platform.performMicrotaskCheckpoint=function(){if(!na&&ma){na=!0;var b,c,d=0;do{d++,c=la,la=[],b=!1;for(var e=0;e<c.length;e++){var f=c[e];f.state_==ha&&(f.check_()&&(b=!0),la.push(f))}u()&&(b=!0)}while(ba>d&&b);Q&&(a.dirtyCheckCycleCount=d),na=!1}},ma&&(a.Platform.clearObservers=function(){la=[]}),C.prototype=U({__proto__:z.prototype,arrayObserve:!1,connect_:function(a,b){R?this.directObserver_=w(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(a){var b=Array.isArray(a)?[]:{};for(var c in a)b[c]=a[c];return Array.isArray(a)&&(b.length=a.length),b},check_:function(a,b){var c,d;if(R){if(!a)return!1;d={},c=I(this.value_,a,d)}else d=this.oldObject_,c=t(this.value_,this.oldObject_);return s(c)?!1:(R||(this.oldObject_=this.copyObject(this.value_)),this.report_([c.added||{},c.removed||{},c.changed||{},function(a){return d[a]}]),!0)},disconnect_:function(){R?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==ha&&(R?this.directObserver_.deliver(!1):q(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),D.prototype=U({__proto__:C.prototype,arrayObserve:!0,copyObject:function(a){return a.slice()},check_:function(a){var b;if(R){if(!a)return!1;
b=P(this.value_,a)}else b=L(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return b&&b.length?(R||(this.oldObject_=this.copyObject(this.value_)),this.report_([b]),!0):!1}}),D.applySplices=function(a,b,c){c.forEach(function(c){for(var d=[c.index,c.removed.length],e=c.index;e<c.index+c.addedCount;)d.push(b[e]),e++;Array.prototype.splice.apply(a,d)})},E.prototype=U({__proto__:z.prototype,get path(){return this.path_},connect_:function(){R&&(this.directObserver_=y(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(a){this.path_.iterateObjects(this.object_,a)},check_:function(a,b){var c=this.value_;return this.value_=this.path_.getValueFrom(this.object_,this.defaultValue_),b||i(this.value_,c)?!1:(this.report_([this.value_,c,this]),!0)},setValue:function(a){this.path_&&this.path_.setValueFrom(this.object_,a)}});var oa={};F.prototype=U({__proto__:z.prototype,connect_:function(){if(R){for(var a,b=!1,c=0;c<this.observed_.length;c+=2)if(a=this.observed_[c],a!==oa){b=!0;break}b&&(this.directObserver_=y(this,a))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var a=0;a<this.observed_.length;a+=2)this.observed_[a]===oa&&this.observed_[a+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(a,b){if(this.state_!=ga&&this.state_!=ja)throw Error("Cannot add paths once started.");if(b=o(b),this.observed_.push(a,b),this.reportChangesOnOpen_){var c=this.observed_.length/2-1;this.value_[c]=b.getValueFrom(a)}},addObserver:function(a){if(this.state_!=ga&&this.state_!=ja)throw Error("Cannot add observers once started.");if(this.observed_.push(oa,a),this.reportChangesOnOpen_){var b=this.observed_.length/2-1;this.value_[b]=a.open(this.deliver,this)}},startReset:function(){if(this.state_!=ha)throw Error("Can only reset while open");this.state_=ja,this.disconnect_()},finishReset:function(){if(this.state_!=ja)throw Error("Can only finishReset after startReset");return this.state_=ha,this.connect_(),this.value_},iterateObjects_:function(a){for(var b,c=0;c<this.observed_.length;c+=2)b=this.observed_[c],b!==oa&&this.observed_[c+1].iterateObjects(b,a)},check_:function(a,b){for(var c,d=0;d<this.observed_.length;d+=2){var e,f=this.observed_[d],g=this.observed_[d+1];if(f===oa){var h=g;e=this.state_===ga?h.open(this.deliver,this):h.discardChanges()}else e=g.getValueFrom(f);b?this.value_[d/2]=e:i(e,this.value_[d/2])||(c=c||[],c[d/2]=this.value_[d/2],this.value_[d/2]=e)}return c?(this.report_([this.value_,c,this.observed_]),!0):!1}}),H.prototype={open:function(a,b){return this.callback_=a,this.target_=b,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(a){if(a=this.getValueFn_(a),!i(a,this.value_)){var b=this.value_;this.value_=a,this.callback_.call(this.target_,this.value_,b)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(a){return a=this.setValueFn_(a),!this.dontPassThroughSet_&&this.observable_.setValue?this.observable_.setValue(a):void 0},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var pa={add:!0,update:!0,"delete":!0},qa=0,ra=1,sa=2,ta=3;K.prototype={calcEditDistances:function(a,b,c,d,e,f){var g,h,i=f-e+1,j=c-b+1,k=new Array(i);for(g=0;i>g;g++)k[g]=new Array(j),k[g][0]=g;for(h=0;j>h;h++)k[0][h]=h;for(g=1;i>g;g++)for(h=1;j>h;h++)if(this.equals(a[b+h-1],d[e+g-1]))k[g][h]=k[g-1][h-1];else{var l=k[g-1][h]+1,m=k[g][h-1]+1;k[g][h]=m>l?l:m}return k},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,c=a[0].length-1,d=a[b][c],e=[];b>0||c>0;)if(0!=b)if(0!=c){var f,g=a[b-1][c-1],h=a[b-1][c],i=a[b][c-1];f=i>h?g>h?h:g:g>i?i:g,f==g?(g==d?e.push(qa):(e.push(ra),d=g),b--,c--):f==h?(e.push(ta),b--,d=h):(e.push(sa),c--,d=i)}else e.push(ta),b--;else e.push(sa),c--;return e.reverse(),e},calcSplices:function(a,b,c,d,e,f){var g=0,h=0,i=Math.min(c-b,f-e);if(0==b&&0==e&&(g=this.sharedPrefix(a,d,i)),c==a.length&&f==d.length&&(h=this.sharedSuffix(a,d,i-g)),b+=g,e+=g,c-=h,f-=h,c-b==0&&f-e==0)return[];var j;if(b==c){for(j=J(b,[],0);f>e;)j.removed.push(d[e++]);return[j]}if(e==f)return[J(b,[],c-b)];for(var k=this.spliceOperationsFromEditDistances(this.calcEditDistances(a,b,c,d,e,f)),l=[],m=b,n=e,o=0;o<k.length;o++)switch(k[o]){case qa:j&&(l.push(j),j=void 0),m++,n++;break;case ra:j||(j=J(m,[],0)),j.addedCount++,m++,j.removed.push(d[n]),n++;break;case sa:j||(j=J(m,[],0)),j.addedCount++,m++;break;case ta:j||(j=J(m,[],0)),j.removed.push(d[n]),n++}return j&&l.push(j),l},sharedPrefix:function(a,b,c){for(var d=0;c>d;d++)if(!this.equals(a[d],b[d]))return d;return c},sharedSuffix:function(a,b,c){for(var d=a.length,e=b.length,f=0;c>f&&this.equals(a[--d],b[--e]);)f++;return f},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};var ua=new K,va=a;"undefined"==typeof c||c.nodeType||("undefined"!=typeof b&&b.exports&&(c=b.exports),va=c),va.Observer=z,va.Observer.runEOM_=da,va.Observer.observerSentinel_=oa,va.Observer.hasObjectObserve=R,va.ArrayObserver=D,va.ArrayObserver.calculateSplices=function(a,b){return ua.calculateSplices(a,b)},va.ArraySplice=K,va.ObjectObserver=C,va.PathObserver=E,va.CompoundObserver=F,va.Path=n,va.ObserverTransform=H}("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b?a:this||window)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1,2,3,4,5,6,7,8]);